聚焦于用户和AI对话的持久化，每个用户能有自己的对话记录

初立目标是仿造大模型网站，ChatGPT、Grok等。

用户可以选择要使用的大模型，配置密钥。

类比大模型聚合网站





# 对话接口

URL：`/api/chat/{conversationId}`

参数：

```json
{
    message: "你好，这是一条测试消息",
    chatModel: "gpt-4o-mini"
}
```

响应：

```java
{
    AiMess
}
```



基本业务流程：

1. 获取当前用户，对话ID校验
2. 根据选择的大模型和对话ID，获取AIService
   - 根据对话ID，从本地缓存中获取，
     - AIService的大模型不相同，移除新建AIService
     - 无AIService，则新建
3. 用户对话保存到数据库
4. 大模型对话，流式接口响应前端
5. 对话完成后，大模型响应保存到数据库

扩展路径：

1. 对话ID不存在
   - 响应“对话不存在或用户不匹配”
2. 当前用户和对话ID不匹配
   - 响应“对话不存在或用户不匹配”
3. 对话ID为空
   -  创建新的对话











